# 🎲 랜덤 시드 설정 가이드

## 📊 현재 설정

### 랜덤하게 선정된 시드 (고정)

```python
# config.py

# 학습용 시드 (3개, 랜덤 선정)
TRAIN_SEEDS = [1409, 2824, 5506]

# 평가용 시드 (5개, 랜덤 선정)
TEST_SEEDS = [2679, 3286, 4657, 5012, 9935]
```

---

## 🎯 특징

### ✅ 장점

1. **편향 없음**
   - 연속된 시드가 아닌 랜덤 선정
   - 다양한 맵 구조 보장
   - 특정 패턴 회피

2. **재현성 보장**
   - 한 번 선정 후 고정
   - 실험 반복 가능
   - 결과 비교 가능

3. **완전 분리**
   - 학습 시드와 평가 시드 중복 없음
   - 일반화 성능 정확히 측정

4. **시간 효율적**
   - 3개 맵 학습: 1.5-2시간 (1M 스텝)
   - 빠른 결과 도출

---

## 🚀 사용법

### 1. 학습

```bash
# 3개 랜덤 시드로 학습
python train.py --mode multi --algorithm ppo

# 학습 맵: 1409, 2824, 5506
# 예상 시간: 1.5-2시간 (1M 스텝)
```

**학습 과정**:
```
에피소드 1: 맵 1409
에피소드 2: 맵 2824
에피소드 3: 맵 5506
에피소드 4: 맵 1409 (반복)
...
```

---

### 2. 평가

```bash
# 5개 랜덤 시드로 평가
python evaluate.py --model models/ppo_multi_seed.zip

# 평가 맵: 2679, 3286, 4657, 5012, 9935
# 학습 때 본 적 없는 새로운 맵들
```

**평가 과정**:
```
시드 2679: 20 에피소드 → 성공률 계산
시드 3286: 20 에피소드 → 성공률 계산
시드 4657: 20 에피소드 → 성공률 계산
시드 5012: 20 에피소드 → 성공률 계산
시드 9935: 20 에피소드 → 성공률 계산

→ 평균 성공률 계산
```

---

## 🔄 다른 시드로 변경하기

### 방법 1: 새로운 랜덤 시드 생성

```bash
# 다른 랜덤 시드 생성 (seed=123)
python generate_random_seeds.py --train 3 --test 5 --seed 123

# 출력된 시드를 config.py에 복사
```

**예시 출력**:
```
TRAIN_SEEDS = [3456, 7891, 2345]
TEST_SEEDS = [5678, 8901, 1234, 4567, 6789]
```

---

### 방법 2: 수동으로 선택

```python
# config.py

# 직접 선택한 시드
TRAIN_SEEDS = [1500, 3000, 7500]
TEST_SEEDS = [2500, 4500, 6500, 8500, 9500]
```

---

## 📊 시드 정보

### 학습 시드 (3개)

| 시드 | 맵 구조 | 특징 |
|------|---------|------|
| **1409** | 랜덤 | 다양한 블록 조합 |
| **2824** | 랜덤 | 다양한 블록 조합 |
| **5506** | 랜덤 | 다양한 블록 조합 |

**확인 방법**:
```bash
# 맵 구조 시각화
python visualize_maps.py --seeds 1409 2824 5506
```

---

### 평가 시드 (5개)

| 시드 | 맵 구조 | 특징 |
|------|---------|------|
| **2679** | 랜덤 | 학습 때 본 적 없음 |
| **3286** | 랜덤 | 학습 때 본 적 없음 |
| **4657** | 랜덤 | 학습 때 본 적 없음 |
| **5012** | 랜덤 | 학습 때 본 적 없음 |
| **9935** | 랜덤 | 학습 때 본 적 없음 |

**확인 방법**:
```bash
# 맵 구조 시각화
python visualize_maps.py --seeds 2679 3286 4657 5012 9935
```

---

## 🔍 중복 확인

```python
# 학습과 평가 시드가 겹치지 않는지 확인
train_set = set([1409, 2824, 5506])
test_set = set([2679, 3286, 4657, 5012, 9935])

overlap = train_set & test_set
print(f"중복: {overlap}")  # set() (빈 집합)
```

**결과**: ✅ 중복 없음 (완전히 분리됨)

---

## 📈 예상 결과

### 학습 (3개 시드)

```
학습 시간: 1.5-2시간 (1M 스텝)
학습 맵: 1409, 2824, 5506

예상 학습 성능:
- 시드 1409: 성공률 40-60%
- 시드 2824: 성공률 40-60%
- 시드 5506: 성공률 40-60%
```

---

### 평가 (5개 시드)

```
평가 맵: 2679, 3286, 4657, 5012, 9935

예상 일반화 성능:
- 평균 성공률: 30-50%
- 학습 맵보다 10-20% 낮음 (정상)
```

---

## 💡 비교 분석

### 연속 시드 vs 랜덤 시드

| 항목 | 연속 시드 (1000-1002) | 랜덤 시드 (1409, 2824, 5506) |
|------|---------------------|----------------------------|
| **편향** | ⚠️ 있음 (비슷한 구조) | ✅ 없음 (다양한 구조) |
| **다양성** | ⭐⭐ | ⭐⭐⭐ |
| **일반화** | ⭐⭐ | ⭐⭐⭐ |
| **재현성** | ✅ | ✅ |
| **추천도** | ⭐⭐⭐ | ⭐⭐⭐⭐ |

---

## 🎓 실험 설계

### 목표

```
1. 학습: 3개 랜덤 맵에서 학습
   → 다양한 패턴 학습

2. 평가: 5개 랜덤 맵에서 평가
   → 일반화 능력 측정

3. 분석: 성공률 비교
   → 과적합 정도 파악
```

---

### 실험 프로세스

```
1주차:
  - 환경 설정
  - 맵 구조 확인 (visualize_maps.py)
  - 빠른 테스트 (--mode quick)

2주차:
  - 본격 학습 (python train.py --mode multi)
  - 학습 시간: 1.5-2시간
  - 중간 평가

3주차:
  - 최종 평가 (5개 시드)
  - 결과 분석
  - 보고서 작성
```

---

## 🔧 고급 설정

### 더 많은 시드 사용

```bash
# 학습 5개, 평가 5개
python generate_random_seeds.py --train 5 --test 5

# 학습 7개, 평가 10개
python generate_random_seeds.py --train 7 --test 10
```

---

### 특정 범위에서 선정

```bash
# 5000-9999 범위에서 선정
python generate_random_seeds.py --train 3 --test 5 --min 5000 --max 9999
```

---

## 📝 요약

### 현재 설정

```
✅ 학습 시드: 3개 (1409, 2824, 5506)
✅ 평가 시드: 5개 (2679, 3286, 4657, 5012, 9935)
✅ 중복: 없음
✅ 재현성: 보장됨
✅ 학습 시간: 1.5-2시간
```

### 실행 명령어

```bash
# 학습
python train.py --mode multi --algorithm ppo

# 평가
python evaluate.py --model models/ppo_multi_seed.zip

# 맵 확인
python visualize_maps.py --seeds 1409 2824 5506 2679 3286 4657 5012 9935
```

---

**✅ 랜덤 시드 설정 완료! 학습을 시작하세요! 🚀**

